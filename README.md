## Attached-Wrapper

A-Wrapper是一个简单的通过“劫持”进程标准输入输出实现进程监视器的工具。

进程监视器是一类通过解析被监视进程的标准输出，构造输入的程序。

例如游戏服务器的控制台，即打印日志输出又接受命令输入，通过一个进程监视器，就可以通过解析日志输出在特定时机执行命令。

上例中常见的解决方案是将服务端作为监视器的子进程，监视器在创建子进程时即可方便地控制子进程的标准输入输出。

但如果想把监视器附加到一个已经运行的服务端上，上述方法就行不通。该工具用于解决这种情况。

### 依赖

1. 本工具是Linux系统应用
2. 本工具依赖GDB进行代码注入

### 原理

1. 创建命名管道作为监视进程和目标进程的通讯媒介
2. 利用GDB调试目标进程，将其标准输入和标准输出重定向至命名管道
3. 监视进程通过命名管道读取目标进程标准输出，以及将数据写入目标进程标准输入

### 样例

可利用 bomb game 小游戏简单演示效果

1. `python bomb_game.py` 运行小游戏，得到其PID
2. `python wrap.py <PID>` 对小游戏附加监视器
